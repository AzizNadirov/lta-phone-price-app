'The FastMCP Server - FastMCP\n\n[FastMCP home page\n\nFastMCP](/)\n\nSearch...\n\nAsk AI\n\n* [jlowin/fastmcp](https://github.com/jlowin/fastmcp)\n* [jlowin/fastmcp](https://github.com/jlowin/fastmcp)\n\nSearch...\n\nNavigation\n\nServers\n\nThe FastMCP Server\n\n##### Get Started\n\n* [Welcome!](/getting-started/welcome)\n* [Installation](/getting-started/installation)\n* [Quickstart](/getting-started/quickstart)\n\n##### Servers\n\n* [FastMCP Servers](/servers/fastmcp)\n* [Tools](/servers/tools)\n* [Resources](/servers/resources)\n* [Prompts](/servers/prompts)\n* [Context](/servers/context)\n* [OpenAPI Integration](/servers/openapi)\n* [Proxy Servers](/servers/proxy)\n* [Composition](/servers/composition)\n\n##### Deployment\n\n* [Running the Server](/deployment/running-server)\n* [ASGI Integration](/deployment/asgi)\n* [Authentication](/deployment/authentication)\n* [CLI](/deployment/cli)\n\n##### Clients\n\n* [Overview](/clients/client)\n* [Transports](/clients/transports)\n* [Advanced Features](/clients/advanced-features)\n\n##### Patterns\n\n* [Decorating Methods](/patterns/decorating-methods)\n* [HTTP Requests](/patterns/http-requests)\n* [Contrib Modules](/patterns/contrib)\n* [Testing](/patterns/testing)\n\nServers\n\n# The FastMCP Server\n\nLearn about the core FastMCP server class and how to run it.\n\nThe central piece of a FastMCP application is the `FastMCP` server class. This class acts as the main container for your application’s tools, resources, and prompts, and manages communication with MCP clients.\n\n## [\u200b](#creating-a-server) Creating a Server\n\nInstantiating a server is straightforward. You typically provide a name for your server, which helps identify it in client applications or logs.\n\n```\nfrom fastmcp import FastMCP\n\n# Create a basic server instance\nmcp = FastMCP(name="MyAssistantServer")\n\n# You can also add instructions for how to interact with the server\nmcp_with_instructions = FastMCP(\n    name="HelpfulAssistant",\n    instructions="""\n        This server provides data analysis tools.\n        Call get_average() to analyze numerical data.\n        """\n)\n```\n\nThe `FastMCP` constructor accepts several arguments:\n\n* `name`: (Optional) A human-readable name for your server. Defaults to “FastMCP”.\n* `instructions`: (Optional) Description of how to interact with this server. These instructions help clients understand the server’s purpose and available functionality.\n* `lifespan`: (Optional) An async context manager function for server startup and shutdown logic.\n* `tags`: (Optional) A set of strings to tag the server itself.\n* `**settings`: Keyword arguments corresponding to additional `ServerSettings` configuration\n\n## [\u200b](#components) Components\n\nFastMCP servers expose several types of components to the client:\n\n### [\u200b](#tools) Tools\n\nTools are functions that the client can call to perform actions or access external systems.\n\n```\n@mcp.tool()\ndef multiply(a: float, b: float) -> float:\n    """Multiplies two numbers together."""\n    return a * b\n```\n\nSee [Tools](/servers/tools) for detailed documentation.\n\n### [\u200b](#resources) Resources\n\nResources expose data sources that the client can read.\n\n```\n@mcp.resource("data://config")\ndef get_config() -> dict:\n    """Provides the application configuration."""\n    return {"theme": "dark", "version": "1.0"}\n```\n\nSee [Resources & Templates](/servers/resources) for detailed documentation.\n\n### [\u200b](#resource-templates) Resource Templates\n\nResource templates are parameterized resources that allow the client to request specific data.\n\n```\n@mcp.resource("users://{user_id}/profile")\ndef get_user_profile(user_id: int) -> dict:\n    """Retrieves a user\'s profile by ID."""\n    # The {user_id} in the URI is extracted and passed to this function\n    return {"id": user_id, "name": f"User {user_id}", "status": "active"}\n```\n\nSee [Resources & Templates](/servers/resources) for detailed documentation.\n\n### [\u200b](#prompts) Prompts\n\nPrompts are reusable message templates for guiding the LLM.\n\n```\n@mcp.prompt()\ndef analyze_data(data_points: list[float]) -> str:\n    """Creates a prompt asking for analysis of numerical data."""\n    formatted_data = ", ".join(str(point) for point in data_points)\n    return f"Please analyze these data points: {formatted_data}"\n```\n\nSee [Prompts](/servers/prompts) for detailed documentation.\n\n## [\u200b](#running-the-server) Running the Server\n\nFastMCP servers need a transport mechanism to communicate with clients. You typically start your server by calling the `mcp.run()` method on your `FastMCP` instance, often within an `if __name__ == "__main__":` block in your main server script. This pattern ensures compatibility with various MCP clients.\n\n```\n# my_server.py\nfrom fastmcp import FastMCP\n\nmcp = FastMCP(name="MyServer")\n\n@mcp.tool()\ndef greet(name: str) -> str:\n    """Greet a user by name."""\n    return f"Hello, {name}!"\n\nif __name__ == "__main__":\n    # This runs the server, defaulting to STDIO transport\n    mcp.run()\n\n    # To use a different transport, e.g., HTTP:\n    # mcp.run(transport="streamable-http", host="127.0.0.1", port=9000)\n```\n\nFastMCP supports several transport options:\n\n* STDIO (default, for local tools)\n* Streamable HTTP (recommended for web services)\n* SSE (legacy web transport, deprecated)\n\nThe server can also be run using the FastMCP CLI.\n\nFor detailed information on each transport, how to configure them (host, port, paths), and when to use which, please refer to the [**Running Your FastMCP Server**](/deployment/running-server) guide.\n\n## [\u200b](#composing-servers) Composing Servers\n\n`New in version: 2.2.0`\n\nFastMCP supports composing multiple servers together using `import_server` (static copy) and `mount` (live link). This allows you to organize large applications into modular components or reuse existing servers.\n\nSee the [Server Composition](/patterns/composition) guide for full details, best practices, and examples.\n\n```\n# Example: Importing a subserver\nfrom fastmcp import FastMCP\nimport asyncio\n\nmain = FastMCP(name="Main")\nsub = FastMCP(name="Sub")\n\n@sub.tool()\ndef hello():\n    return "hi"\n\n# Mount directly\nmain.mount("sub", sub)\n```\n\n## [\u200b](#proxying-servers) Proxying Servers\n\n`New in version: 2.0.0`\n\nFastMCP can act as a proxy for any MCP server (local or remote) using `FastMCP.as_proxy`, letting you bridge transports or add a frontend to existing servers. For example, you can expose a remote SSE server locally via stdio, or vice versa.\n\nSee the [Proxying Servers](/patterns/proxy) guide for details and advanced usage.\n\n```\nfrom fastmcp import FastMCP, Client\n\nbackend = Client("http://example.com/mcp/sse")\nproxy = FastMCP.as_proxy(backend, name="ProxyServer")\n# Now use the proxy like any FastMCP server\n```\n\n## [\u200b](#server-configuration) Server Configuration\n\nServer behavior, like transport settings (host, port for SSE) and how duplicate components are handled, can be configured via `ServerSettings`. These settings can be passed during `FastMCP` initialization, set via environment variables (prefixed with `FASTMCP_SERVER_`), or loaded from a `.env` file.\n\n```\nfrom fastmcp import FastMCP\n\n# Configure during initialization\nmcp = FastMCP(\n    name="ConfiguredServer",\n    port=8080, # Directly maps to ServerSettings\n    on_duplicate_tools="error" # Set duplicate handling\n)\n\n# Settings are accessible via mcp.settings\nprint(mcp.settings.port) # Output: 8080\nprint(mcp.settings.on_duplicate_tools) # Output: "error"\n```\n\n### [\u200b](#key-configuration-options) Key Configuration Options\n\n* **`host`**: Host address for SSE transport (default: “127.0.0.1”)\n* **`port`**: Port number for SSE transport (default: 8000)\n* **`log_level`**: Logging level (default: “INFO”)\n* **`on_duplicate_tools`**: How to handle duplicate tool registrations\n* **`on_duplicate_resources`**: How to handle duplicate resource registrations\n* **`on_duplicate_prompts`**: How to handle duplicate prompt registrations\n\nAll of these can be configured directly as parameters when creating the `FastMCP` instance.\n\n### [\u200b](#custom-tool-serialization) Custom Tool Serialization\n\n`New in version: 2.2.7`\n\nBy default, FastMCP serializes tool return values to JSON when they need to be converted to text. You can customize this behavior by providing a `tool_serializer` function when creating your server:\n\n```\nimport yaml\nfrom fastmcp import FastMCP\n\n# Define a custom serializer that formats dictionaries as YAML\ndef yaml_serializer(data):\n    return yaml.dump(data, sort_keys=False)\n\n# Create a server with the custom serializer\nmcp = FastMCP(name="MyServer", tool_serializer=yaml_serializer)\n\n@mcp.tool()\ndef get_config():\n    """Returns configuration in YAML format."""\n    return {"api_key": "abc123", "debug": True, "rate_limit": 100}\n```\n\nThe serializer function takes any data object and returns a string representation. This is applied to **all non-string return values** from your tools. Tools that already return strings bypass the serializer.\n\nThis customization is useful when you want to:\n\n* Format data in a specific way (like YAML or custom formats)\n* Control specific serialization options (like indentation or sorting)\n* Add metadata or transform data before sending it to clients\n\nIf the serializer function raises an exception, the tool will fall back to the default JSON serialization to avoid breaking the server.\n\n## [\u200b](#authentication) Authentication\n\n`New in version: 2.2.7`\n\nFastMCP supports OAuth 2.0 authentication, allowing servers to protect their tools and resources. This is configured by providing an `auth_server_provider` and `auth` settings during `FastMCP` initialization.\n\n```\nfrom fastmcp import FastMCP\nfrom mcp.server.auth.settings import AuthSettings #, ... other auth imports\n# from your_auth_implementation import MyOAuthServerProvider # Placeholder\n\n# Create a server with authentication (conceptual example)\n# mcp = FastMCP(\n#     name="SecureApp",\n#     auth_server_provider=MyOAuthServerProvider(),\n#     auth=AuthSettings(\n#         issuer_url="https://myapp.com",\n#         # ... other OAuth settings ...\n#         required_scopes=["myscope"],\n#     ),\n# )\n```\n\nDue to the low-level nature of the current MCP SDK’s auth provider interface, detailed implementation is beyond a quick example. Refer to the [MCP SDK documentation](https://modelcontextprotocol.io/specification/2025-03-26/basic/authorization) for specifics on implementing an `OAuthAuthorizationServerProvider`. FastMCP integrates with this by passing the provider and settings to the underlying MCP server.\n\nA dedicated [Authentication guide](/deployment/authentication) will cover this in more detail once higher-level abstractions are available in FastMCP.\n\n[Quickstart](/getting-started/quickstart)[Tools](/servers/tools)\n\n[bluesky](https://bsky.app/profile/jlowin.dev)[github](https://github.com/jlowin/fastmcp)[x](https://x.com/jlowin)\n\n[Powered by Mintlify](https://mintlify.com/preview-request?utm_campaign=poweredBy&utm_medium=referral&utm_source=gofastmcp.com)\n\nOn this page\n\n* [Creating a Server](#creating-a-server)\n* [Components](#components)\n* [Tools](#tools)\n* [Resources](#resources)\n* [Resource Templates](#resource-templates)\n* [Prompts](#prompts)\n* [Running the Server](#running-the-server)\n* [Composing Servers](#composing-servers)\n* [Proxying Servers](#proxying-servers)\n* [Server Configuration](#server-configuration)\n* [Key Configuration Options](#key-configuration-options)\n* [Custom Tool Serialization](#custom-tool-serialization)\n* [Authentication](#authentication)\n\nAssistant\n\nResponses are generated using AI and may contain mistakes.'